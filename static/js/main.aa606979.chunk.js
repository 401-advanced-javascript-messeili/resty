(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{15:function(e,t,r){},21:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),a=r.n(c),o=r(14),s=r.n(o),l=(r(21),r(3)),i=r.n(l),d=r(4),u=r(5),h=r(6),j=r(8),b=r(7),m=(r(23),function(){return Object(n.jsx)("header",{children:Object(n.jsx)("h1",{children:"RESTy"})})}),p=(r(24),r(2)),O=r(25),x=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).handleChangeUrl=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({url:t.target.url.value,method:t.target.method.value,body:t.target.body.value,whileFetching:!0}),e.t0=t.target.method.value,e.next="GET"===e.t0?5:"POST"===e.t0?8:"PATCH"===e.t0?10:"DELETE"===e.t0?12:"PUT"===e.t0?14:16;break;case 5:return e.next=7,O.get("".concat(t.target.url.value)).then((function(e){var r,c,a={url:t.target.url.value,method:t.target.method.value,body:t.target.body.value};console.log("info:",a),n.setState({whileFetching:!1}),localStorage.getItem("history")?((r=JSON.parse(localStorage.getItem("history"))).forEach((function(e){c=e.url===a.url&&e.method===a.method})),c||(r.push(a),localStorage.setItem("history",JSON.stringify(r))),n.props.handler(e)):(r=[],localStorage.setItem("history",JSON.stringify(r))),console.log("history",r)})).catch((function(e){n.setState({whileFetching:!1}),console.log(e.message),n.props.errorHandler(e.message)}));case 7:return e.abrupt("break",17);case 8:return O.post("".concat(n.state.url)).then((function(e){n.props.handler(e)})),e.abrupt("break",17);case 10:return O.patch("".concat(n.state.url)).then((function(e){n.props.handler(e)})),e.abrupt("break",17);case 12:return O.delete("".concat(n.state.url)).then((function(e){n.props.handler(e)})),e.abrupt("break",17);case 14:return O.put("".concat(n.state.url)).then((function(e){n.props.handler(e)})),e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={url:"",method:"",body:"",whileFetching:!1},n}return Object(h.a)(r,[{key:"render",value:function(){return Object(n.jsxs)("main",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("form",{className:"column",onSubmit:this.handleChangeUrl,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("label",{htmlFor:"url",children:"URL"}),Object(n.jsx)("input",{id:"url",type:"url",name:"url",value:this.state.url.value}),Object(n.jsxs)("button",{id:"btn",type:"submit",children:[" ","GO"," "]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("label",{htmlFor:"method",children:"Get"}),Object(n.jsx)("input",{type:"radio",id:"GET",value:"GET",name:"method",defaultChecked:!0}),Object(n.jsx)("label",{htmlFor:"method",children:"Post"}),Object(n.jsx)("input",{type:"radio",id:"POST",value:"POST",name:"method"}),Object(n.jsx)("label",{htmlFor:"method",children:"Delete"}),Object(n.jsx)("input",{type:"radio",id:"PATCH",value:"PATCH",name:"method"}),Object(n.jsx)("label",{htmlFor:"method",children:"Patch"}),Object(n.jsx)("input",{type:"radio",id:"DELETE",value:"DELETE",name:"method"}),Object(n.jsx)("label",{htmlFor:"method",children:"Put"}),Object(n.jsx)("input",{type:"radio",id:"PUT",value:"PUT",name:"method"}),Object(n.jsx)("textarea",{id:"body",name:"body"})]})]})}),Object(n.jsx)(p.b,{condition:!0===this.state.whileFetching,children:Object(n.jsx)(p.c,{children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("img",{src:"https://i.gifer.com/YCZH.gif",alt:"loading",width:"200px"})})})})]})}}]),r}(a.a.Component),g=r(15),f=r.n(g),y=function(){return Object(n.jsx)("footer",{className:f.a,children:Object(n.jsx)("p",{children:"\xa9 2020"})})},v=(r(35),r(11)),S=r.n(v);var T=function(e){var t=e.count,r=e.results,c=e.headers,a=e.error;return Object(n.jsxs)("div",{className:"container",children:[console.log(a),Object(n.jsxs)(p.b,{condition:a.error,children:[Object(n.jsx)(p.c,{children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("h1",{children:a.errorBody})})}),Object(n.jsx)(p.a,{children:Object(n.jsxs)("div",{id:"item",children:[Object(n.jsxs)("p",{children:["count: ",t]}),Object(n.jsx)("p",{children:Object(n.jsx)(S.a,{name:"Headers",src:c})}),Object(n.jsx)("p",{children:Object(n.jsx)(S.a,{name:"Results",src:r})})]})})]})]})};r(36);function F(e){var t=localStorage.getItem("history")?JSON.parse(localStorage.getItem("history")):[];return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return console.log("query",e),Object(n.jsxs)("li",{onClick:k,children:[Object(n.jsx)("section",{id:"spanMethod",children:e.method}),Object(n.jsx)("section",{id:"spanURL",children:e.url})]},e.method+e.url)}))})}function k(e){var t={url:e.currentTarget.childNodes[1].firstChild.data,method:e.currentTarget.childNodes[0].firstChild.data};document.getElementById("url").value=t.url,document.getElementById(t.method).checked=!0,document.getElementById("btn").click()}var E=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).handleForm=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Hi from the App",t.body),e.next=4,n.setState({count:t.body.count?t.body.count:1,results:t.body,headers:t.headers});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),n.errorHandler(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),n.errorHandler=function(e){n.setState({error:!0,errorBody:e})},n.errorUpdate=function(){n.setState({error:!1})},n.state={count:0,results:[],errorBody:"",error:!1,headers:{}},n}return Object(h.a)(r,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsx)(x,{handler:this.handleForm,errorHandler:this.errorHandler}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("h3",{children:"History"}),Object(n.jsx)(F,{})]}),Object(n.jsx)(T,{errorUpdate:this.errorUpdate,count:this.state.count,results:this.state.results,headers:this.state.headers,error:{error:this.state.error,errorBody:this.state.errorBody}}),Object(n.jsx)(y,{})]})}}]),r}(a.a.Component),w=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,38)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),c(e),a(e),o(e)}))};s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),w()}},[[37,1,2]]]);
//# sourceMappingURL=main.aa606979.chunk.js.map